process hcalminimumbias = {
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  source = PoolSource {
    untracked vstring fileNames = {
 'file:./test.root'
# '/store/RelVal/2007/8/8/RelVal-Wenu_Calibration-1186594052/0004/00D8D5DB-2446-DC11-AB3F-000423D99BF2.root'
  }
  }
untracked PSet maxEvents = {untracked int32 input = 10}

module recalrechit = HcalRecHitRecalib {
    InputTag hbheInput = hbhereco
    InputTag hoInput = horeco
    InputTag hfInput = hfreco

    string RecalibHBHEHitCollection = "RecalibHBHE"
    string RecalibHFHitCollection = "RecalibHF"
    string RecalibHOHitCollection = "RecalibHO"

    untracked string fileNameHcal = "hcalmiscalib_0.1.xml"
    untracked double Refactor = 0.5
    untracked double Refactor_mean = 1.0	    
}

#defines  caloTowersRec, caloJetMet, caloJetMetGen

#replace towerMaker.hbheInput = recalrechit:RecalibHBHE
#replace towerMaker.hfInput = recalrechit:RecalibHF
#replace towerMaker.hoInput = recalrechit:RecalibHO


  module MinRecos = PoolOutputModule {
    untracked string fileName = 'hcalmin_half.root'
    untracked vstring outputCommands =
    {
      "drop *",
      "keep HBHERecHitsSorted_*_*_*",
      "keep HORecHitsSorted_*_*_*",
      "keep HFRecHitsSorted_*_*_*",
      "keep CaloTowersSorted_*_*_*",	
      "keep *_caloTowers_*_*"
    }
  } 


  path p = {recalrechit}
#  path p = {recalrechit, towerMaker, caloTowers}
#  path p = {recalrechit,caloTowersRec}
#  path p = {caloTowersRec}

  endpath e = {MinRecos}  
}
